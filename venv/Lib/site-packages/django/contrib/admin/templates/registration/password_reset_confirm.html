{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}
<link rel="stylesheet" href="{% static 'admin/css/forms.css' %}">
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% translate 'Home' %}</a>
    &rsaquo; {% translate 'Password reset confirmation' %}
</div>
{% endblock %}

{% block content %}

{% if validlink %}

<p>{% translate "Введите новый пароль дважды, чтобы мы могли убедиться, что вы ввели его правильно." %}</p>

<form method="post" class="password-reset-form">
    {% csrf_token %}
    <fieldset class="module aligned">
        <input class="hidden" autocomplete="username" value="{{ form.user.get_username }}">

        <!-- Блок полей ввода пароля -->
        <div class="form-row field-password d-flex justify-content-between">
            <div class="form-group mr-3" style="flex: 1; margin-right: 15px;">
                {{ form.new_password1.errors }}
                <label for="id_new_password1" class="form-label">{% translate 'Новый пароль:' %}</label>
                {{ form.new_password1|add_class:"form-control" }}
            </div>
            <div class="form-group" style="flex: 1;">
                {{ form.new_password2.errors }}
                <label for="id_new_password2" class="form-label">{% translate 'Повторите пароль:' %}</label>
                {{ form.new_password2|add_class:"form-control" }}
            </div>
        </div>

        <!-- Подсказка для пароля -->
        <div class="text-muted mt-2">
            {% translate "Ваш пароль должен содержать не менее 8 символов, не быть слишком похожим на вашу личную информацию и не быть слишком простым." %}
        </div>
    </fieldset>

    <!-- Кнопка подтверждения -->
    <div class="submit-row mt-3">
        <input type="submit" class="btn btn-primary" value="{% translate 'Сменить пароль' %}">
    </div>
</form>

{% else %}

<p>{% translate "Ссылка для сброса пароля недействительна, возможно, она уже была использована. Пожалуйста, запросите сброс пароля снова." %}</p>

{% endif %}

{% endblock %}
